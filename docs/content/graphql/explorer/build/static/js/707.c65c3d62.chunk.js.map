{"version":3,"file":"static/js/707.c65c3d62.chunk.js","mappings":"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","sources":["../../../node_modules/codemirror-graphql/src/utils/info-addon.ts"],"sourcesContent":["/**\n *  Copyright (c) 2021 GraphQL Contributors\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\nimport CodeMirror from 'codemirror';\nimport { GraphQLInfoOptions } from '../info';\n\nCodeMirror.defineOption(\n  'info',\n  false,\n  (\n    cm: CodeMirror.Editor,\n    options: GraphQLInfoOptions,\n    old?: GraphQLInfoOptions,\n  ) => {\n    if (old && old !== CodeMirror.Init) {\n      const oldOnMouseOver = cm.state.info.onMouseOver;\n      CodeMirror.off(cm.getWrapperElement(), 'mouseover', oldOnMouseOver);\n      clearTimeout(cm.state.info.hoverTimeout);\n      delete cm.state.info;\n    }\n\n    if (options) {\n      const state: Record<string, any> = (cm.state.info = createState(options));\n      state.onMouseOver = onMouseOver.bind(null, cm);\n      CodeMirror.on(cm.getWrapperElement(), 'mouseover', state.onMouseOver);\n    }\n  },\n);\n\nfunction createState(options: GraphQLInfoOptions) {\n  return {\n    options:\n      options instanceof Function\n        ? { render: options }\n        : options === true\n        ? {}\n        : options,\n  };\n}\n\nfunction getHoverTime(cm: CodeMirror.Editor) {\n  const options = cm.state.info.options;\n  return (options && options.hoverTime) || 500;\n}\n\nfunction onMouseOver(cm: CodeMirror.Editor, e: MouseEvent) {\n  const state = cm.state.info;\n\n  const target = e.target || e.srcElement;\n\n  if (!(target instanceof HTMLElement)) {\n    return;\n  }\n  if (target.nodeName !== 'SPAN' || state.hoverTimeout !== undefined) {\n    return;\n  }\n\n  const box = target.getBoundingClientRect();\n\n  const onMouseMove = function () {\n    clearTimeout(state.hoverTimeout);\n    state.hoverTimeout = setTimeout(onHover, hoverTime);\n  };\n\n  const onMouseOut = function () {\n    CodeMirror.off(document, 'mousemove', onMouseMove);\n    CodeMirror.off(cm.getWrapperElement(), 'mouseout', onMouseOut);\n    clearTimeout(state.hoverTimeout);\n    state.hoverTimeout = undefined;\n  };\n\n  const onHover = function () {\n    CodeMirror.off(document, 'mousemove', onMouseMove);\n    CodeMirror.off(cm.getWrapperElement(), 'mouseout', onMouseOut);\n    state.hoverTimeout = undefined;\n    onMouseHover(cm, box);\n  };\n\n  const hoverTime = getHoverTime(cm);\n  state.hoverTimeout = setTimeout(onHover, hoverTime);\n\n  CodeMirror.on(document, 'mousemove', onMouseMove);\n  CodeMirror.on(cm.getWrapperElement(), 'mouseout', onMouseOut);\n}\n\nfunction onMouseHover(cm: CodeMirror.Editor, box: DOMRect) {\n  const pos = cm.coordsChar({\n    left: (box.left + box.right) / 2,\n    top: (box.top + box.bottom) / 2,\n  });\n\n  const state = cm.state.info;\n  const options = state.options;\n  const render = options.render || cm.getHelper(pos, 'info');\n  if (render) {\n    const token = cm.getTokenAt(pos, true);\n    if (token) {\n      const info: HTMLDivElement = render(token, options, cm, pos);\n      if (info) {\n        showPopup(cm, box, info);\n      }\n    }\n  }\n}\n\nfunction showPopup(cm: CodeMirror.Editor, box: DOMRect, info: HTMLDivElement) {\n  const popup = document.createElement('div');\n  popup.className = 'CodeMirror-info';\n  popup.appendChild(info);\n  document.body.appendChild(popup);\n\n  const popupBox = popup.getBoundingClientRect();\n  const popupStyle = window.getComputedStyle(popup);\n  const popupWidth =\n    popupBox.right -\n    popupBox.left +\n    parseFloat(popupStyle.marginLeft) +\n    parseFloat(popupStyle.marginRight);\n  const popupHeight =\n    popupBox.bottom -\n    popupBox.top +\n    parseFloat(popupStyle.marginTop) +\n    parseFloat(popupStyle.marginBottom);\n\n  let topPos = box.bottom;\n  if (\n    popupHeight > window.innerHeight - box.bottom - 15 &&\n    box.top > window.innerHeight - box.bottom\n  ) {\n    topPos = box.top - popupHeight;\n  }\n\n  if (topPos < 0) {\n    topPos = box.bottom;\n  }\n\n  let leftPos = Math.max(0, window.innerWidth - popupWidth - 15);\n  if (leftPos > box.left) {\n    leftPos = box.left;\n  }\n\n  popup.style.opacity = '1';\n  popup.style.top = topPos + 'px';\n  popup.style.left = leftPos + 'px';\n\n  let popupTimeout: NodeJS.Timeout;\n\n  const onMouseOverPopup = function () {\n    clearTimeout(popupTimeout);\n  };\n\n  const onMouseOut = function () {\n    clearTimeout(popupTimeout);\n    popupTimeout = setTimeout(hidePopup, 200);\n  };\n\n  const hidePopup = function () {\n    CodeMirror.off(popup, 'mouseover', onMouseOverPopup);\n    CodeMirror.off(popup, 'mouseout', onMouseOut);\n    CodeMirror.off(cm.getWrapperElement(), 'mouseout', onMouseOut);\n\n    if (popup.style.opacity) {\n      popup.style.opacity = '0';\n      setTimeout(() => {\n        if (popup.parentNode) {\n          popup.parentNode.removeChild(popup);\n        }\n      }, 600);\n    } else if (popup.parentNode) {\n      popup.parentNode.removeChild(popup);\n    }\n  };\n\n  CodeMirror.on(popup, 'mouseover', onMouseOverPopup);\n  CodeMirror.on(popup, 'mouseout', onMouseOut);\n  CodeMirror.on(cm.getWrapperElement(), 'mouseout', onMouseOut);\n}\n"],"names":["onMouseOver","cm","e","state","info","target","srcElement","HTMLElement","nodeName","undefined","hoverTimeout","box","getBoundingClientRect","onMouseMove","clearTimeout","setTimeout","onHover","hoverTime","onMouseOut","codemirror_1","off","document","getWrapperElement","pos","coordsChar","left","right","top","bottom","options","render","getHelper","token","getTokenAt","popup","createElement","className","appendChild","body","popupBox","popupStyle","window","getComputedStyle","popupWidth","parseFloat","marginLeft","marginRight","popupHeight","marginTop","marginBottom","topPos","innerHeight","popupTimeout","leftPos","Math","max","innerWidth","style","opacity","onMouseOverPopup","hidePopup","parentNode","removeChild","on","showPopup","onMouseHover","getHoverTime","defineOption","old","Init","oldOnMouseOver","Function","createState","bind"],"sourceRoot":""}