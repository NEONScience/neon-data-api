{"version":3,"sources":["env.ts","Swagger.js","App.tsx","index.tsx"],"names":["Env","getApiProtocol","protocol","window","location","protocolOverride","process","REACT_APP_NEON_API_HOST_PROTOCOL","length","String","getApiHostName","hostName","host","hostOverride","REACT_APP_NEON_API_HOST","getApiHost","getApiRootPath","TRUNCATE_ENDPOINTS","requestInterceptor","req","url","URL","port","href","responseInterceptor","res","o","pathname","body","Array","isArray","data","slice","obj","text","map","p","changeLogs","siteCodes","s","dataProducts","JSON","stringify","App","useLayoutEffect","frameElement","ResizeObserver","style","height","setAttribute","document","overflow","resizeObserver","entries","cr","contentRect","observe","disconnect","className","spec","swaggerJSON","docExpansion","ReactDOM","render","getElementById"],"mappings":"6lqCAQMA,EAAkB,CACtBC,eAAgB,WACd,IAAIC,EAAgB,UAAMC,OAAOC,SAASF,UACpCG,EAAuCC,qoBAAYC,iCAIzD,MAHgC,kBAArBF,GAAkCA,EAAiBG,OAAS,IACrEN,EAAWO,OAAOJ,IAEd,GAAN,OAAUH,IAEZQ,eAAgB,WACd,IAAIC,EAAgB,UAAMR,OAAOC,SAASQ,MACpCC,EAAmCP,qoBAAYQ,wBAIrD,MAH4B,kBAAjBD,GAA8BA,EAAaL,OAAS,IAC7DG,EAAWF,OAAOI,IAEd,GAAN,OAAUF,IAEZI,WAAY,WACV,MAAM,GAAN,OAAUf,EAAIC,iBAAd,aAAmCD,EAAIU,mBAEzCM,eAAgB,WACd,MACIV,YAKON,IC9BTiB,GAAkB,6BAClBjB,EAAIgB,iBADc,aACgB,YADhB,wBAElBhB,EAAIgB,iBAFc,UAEa,SAFb,wBAGlBhB,EAAIgB,iBAHc,oBAGuB,iBAHvB,wBAIlBhB,EAAIgB,iBAJc,aAIgB,YAJhB,GASlBE,EAAqB,SAACC,GAC1B,IAAMC,EAAM,IAAIC,IAAIF,EAAIC,KAIxB,OAHAA,EAAIlB,SAAWF,EAAIC,iBACnBmB,EAAIR,KAAOZ,EAAIU,iBACfU,EAAIE,KAAO,GACJ,2BACFH,GADL,IAEEC,IAAKA,EAAIG,QAYPC,EAAsB,SAACC,GAC3B,IAtBcC,EAsBRN,EAAM,IAAIC,IAAII,EAAIL,KACxB,IAAKH,EAAmBG,EAAIO,UAC1B,OAAOF,EAET,GA1BkC,qBAApBC,EA0BHD,EAAIG,OA1B0C,OAANF,GA0B3BG,MAAMC,QAAQL,EAAIG,KAAKG,OAAUN,EAAIG,KAAKG,KAAKvB,OAAS,EAAI,CAClF,IAAMoB,EAAI,2BACLH,EAAIG,MADC,IAERG,KAAMN,EAAIG,KAAKG,KAAKC,MAAM,EAAG,KAM/B,cAJOP,EAAIG,YACJH,EAAIQ,WACJR,EAAIS,YACJT,EAAIM,KACHd,EAAmBG,EAAIO,WAC7B,IAAK,WACHC,EAAKG,KAAOH,EAAKG,KAAKI,KAAI,SAAAC,GAOxB,OANIP,MAAMC,QAAQM,EAAEC,aAAgBD,EAAEC,WAAW7B,OAAS,IACxD4B,EAAEC,WAAaD,EAAEC,WAAWL,MAAM,EAAG,IAEnCH,MAAMC,QAAQM,EAAEE,YAAeF,EAAEE,UAAU9B,OAAS,IACtD4B,EAAEE,UAAYF,EAAEE,UAAUN,MAAM,EAAG,IAE9BI,KAET,MACF,IAAK,QACHR,EAAKG,KAAOH,EAAKG,KAAKI,KAAI,SAAAI,GAIxB,OAHIV,MAAMC,QAAQS,EAAEC,eAAkBD,EAAEC,aAAahC,OAAS,IAC5D+B,EAAEC,aAAeD,EAAEC,aAAaR,MAAM,EAAG,IAEpCO,KAMbd,EAAIG,KAAOA,EACXH,EAAIQ,IAAML,EACVH,EAAIS,KAAOO,KAAKC,UAAUd,GAC1BH,EAAIM,KAAOU,KAAKC,UAAUd,GAE5B,OAAOH,G,gCCnCMkB,EA/BO,WAwBpB,OAvBAC,2BAAgB,WACd,GAAKzC,OAAO0C,aAAZ,CAIA,GAA8B,oBAAnBC,eAIT,OAHC3C,OAAO0C,aAA6BE,MAAMC,OAAS,QACnD7C,OAAO0C,aAA6BI,aAAa,YAAa,YAC/D9C,OAAO+C,SAAStB,KAAKmB,MAAMI,SAAW,UAIxC,IAAMC,EAAiB,IAAIN,gBAAe,SAACO,GAAoB,IAAD,gBAC1CA,GAD0C,IAC5D,2BAA2B,CAAC,IACpBC,EADmB,QACRC,YAChBpD,OAAO0C,aAA6BE,MAAMC,OAA3C,UAAuDM,EAAGN,OAAS,GAAnE,OAH0D,kCAO9D,OADAI,EAAeI,QAAQrD,OAAO+C,SAAStB,MAChC,WACLwB,EAAeK,kBAIjB,yBAAKC,UAAU,+BD4CUC,EC3CTC,ED4ClB,kBAAC,IAAD,CACED,KAAMA,EACNE,aAAa,OACb3C,mBAAoBA,EACpBM,oBAAqBA,MALG,IAACmC,GE1E7BG,IAASC,OAAO,kBAAC,EAAD,MAASb,SAASc,eAAe,W","file":"static/js/main.428dbb99.chunk.js","sourcesContent":["\nexport interface ApiHostEnv {\n  getApiProtocol: () => string;\n  getApiHostName: () => string;\n  getApiHost: () => string;\n  getApiRootPath: () => string;\n};\n\nconst Env: ApiHostEnv = {\n  getApiProtocol: (): string => {\n    let protocol: string = `${window.location.protocol}`;\n    const protocolOverride: string | undefined = process.env.REACT_APP_NEON_API_HOST_PROTOCOL;\n    if (typeof protocolOverride === \"string\" && (protocolOverride.length > 0)) {\n      protocol = String(protocolOverride);\n    }\n    return `${protocol}`;\n  },\n  getApiHostName: (): string => {\n    let hostName: string = `${window.location.host}`;\n    const hostOverride: string | undefined = process.env.REACT_APP_NEON_API_HOST;\n    if (typeof hostOverride === \"string\" && (hostOverride.length > 0)) {\n      hostName = String(hostOverride);\n    }\n    return `${hostName}`;\n  },\n  getApiHost: (): string => {\n    return `${Env.getApiProtocol()}//${Env.getApiHostName()}`;\n  },\n  getApiRootPath: (): string => {\n    return (typeof process.env.REACT_APP_NEON_API_ROOT === \"string\")\n      ? process.env.REACT_APP_NEON_API_ROOT\n      : \"\";\n  }\n};\n\nexport default Env;\n","import React from \"react\";\nimport SwaggerUI from \"swagger-ui-react\"\n\nimport Env from \"./env\";\n\nconst TRUNCATE_ENDPOINTS = {\n  [`${Env.getApiRootPath()}/products`]: \"products\",\n  [`${Env.getApiRootPath()}/sites`]: \"sites\",\n  [`${Env.getApiRootPath()}/locations/sites`]: \"locationSites\",\n  [`${Env.getApiRootPath()}/taxonomy`]: \"taxonomy\",\n};\n\nconst exists = (o) => (typeof o !== \"undefined\") && (o !== null);\n\nconst requestInterceptor = (req) => {\n  const url = new URL(req.url);\n  url.protocol = Env.getApiProtocol();\n  url.host = Env.getApiHostName();\n  url.port = \"\";\n  return {\n    ...req,\n    url: url.href,\n  };\n};\n\n/**\n * Applying a custom response interceptor for the Swagger UI component\n * as it becomes unresponsive when handling a large response body.\n * This will truncate responses from endpoints that are known to return a\n * large response body.\n * @param {Object} res The response object\n * @return The applied response\n */\nconst responseInterceptor = (res) => {\n  const url = new URL(res.url);\n  if (!TRUNCATE_ENDPOINTS[url.pathname]) {\n    return res;\n  }\n  if (exists(res.body) && Array.isArray(res.body.data) && (res.body.data.length > 3)) {\n    const body = {\n      ...res.body,\n      data: res.body.data.slice(0, 3),\n    };\n    delete res.body;\n    delete res.obj;\n    delete res.text;\n    delete res.data;\n    switch (TRUNCATE_ENDPOINTS[url.pathname]) {\n      case \"products\":\n        body.data = body.data.map(p => {\n          if (Array.isArray(p.changeLogs) && (p.changeLogs.length > 3)) {\n            p.changeLogs = p.changeLogs.slice(0, 3);\n          }\n          if (Array.isArray(p.siteCodes) && (p.siteCodes.length > 3)) {\n            p.siteCodes = p.siteCodes.slice(0, 3);\n          }\n          return p;\n        });\n        break;\n      case \"sites\":\n        body.data = body.data.map(s => {\n          if (Array.isArray(s.dataProducts) && (s.dataProducts.length > 3)) {\n            s.dataProducts = s.dataProducts.slice(0, 3);\n          }\n          return s;\n        });\n        break;\n      default:\n        break;\n    }\n    res.body = body;\n    res.obj = body;\n    res.text = JSON.stringify(body);\n    res.data = JSON.stringify(body);\n  }\n  return res;\n};\n\nexport const getSwaggerUI = (spec) => (\n  <SwaggerUI\n    spec={spec}\n    docExpansion=\"list\"\n    requestInterceptor={requestInterceptor}\n    responseInterceptor={responseInterceptor}\n  />\n);\n","import React, { useLayoutEffect } from \"react\";\nimport { getSwaggerUI } from \"./Swagger\";\n\nimport \"swagger-ui-react/swagger-ui.css\"\nimport \"./App.css\";\nimport \"./swagger-theme-material.css\";\n\nimport swaggerJSON from \"./swagger.json\";\n\nconst App: React.FC = () => {\n  useLayoutEffect(() => {\n    if (!window.frameElement) {\n      return;\n    }\n    // @ts-ignore\n    if (typeof ResizeObserver !== \"function\") {\n      (window.frameElement as HTMLElement).style.height = \"100vh\";\n      (window.frameElement as HTMLElement).setAttribute(\"scrolling\", \"yes\");\n      window.document.body.style.overflow = \"scroll\";\n      return;\n    }\n    // @ts-ignore\n    const resizeObserver = new ResizeObserver((entries: any[]) => {\n      for (let entry of entries) {\n        const cr = entry.contentRect;\n        (window.frameElement as HTMLElement).style.height = `${cr.height + 60}px`;\n      }\n    });\n    resizeObserver.observe(window.document.body);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  });\n  return (\n    <div className=\"neon-data-api-docs-swagger\">\n      {getSwaggerUI(swaggerJSON)}\n    </div>\n  )\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}