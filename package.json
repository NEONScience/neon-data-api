{
  "private": true,
  "packageManager": "yarn@4.12.0",
  "config": {
    "yarnVersion": "4.12.0"
  },
  "workspaces": [
    "packages/*"
  ],
  "scripts": {
    "apps:clean": "(rm -r docs/content/explorer/build || true) && (rm -r docs/content/graphql/explorer/build || true)",
    "apps:clean-deploy": "yarn run apps:clean && yarn run apps:deploy",
    "apps:deploy": "mv packages/docs-app-swagger/build docs/content/explorer/ && mv packages/docs-app-graphiql/build docs/content/graphql/explorer/",
    "build:all": "cd packages/docs-app-graphiql && yarn run build && cd ../docs-app-swagger && yarn run build",
    "build:clean-deploy": "yarn run build:all && yarn run apps:clean-deploy",
    "ci": "yarn install --frozen-lockfile",
    "ci:prod": "yarn install --frozen-lockfile --production",
    "pm:init": "corepack enable && corepack prepare yarn@$npm_package_config_yarnVersion --activate",
    "pm:install": "npm install -g corepack",
    "build:docker": "npm run build:docker-builder && npm run build:docker-generate-dist && npm run build:docker-clean-deploy-dist",
    "build:docker-builder": "docker buildx build --platform=$(docker system info --format '{{.OSType}}/{{.Architecture}}') --no-cache --build-arg YARN_VERSION=$npm_package_config_yarnVersion --tag neon-data-api:latest-builder --file build.Dockerfile .",
    "build:docker-generate-dist": "npm run build:docker-generate-dist-runner",
    "build:docker-generate-dist-runner": "docker run --platform=$(docker system info --format '{{.OSType}}/{{.Architecture}}') --rm --tty --interactive --volume=/$(pwd)/dist:/app/dist --workdir=/app neon-data-api:latest-builder npm run build:docker-copy-dist",
    "build:docker-clean-deploy-dist": "npm run apps:clean && npm run build:docker-post-move",
    "build:docker-post-move": "mv dist/docs-app-swagger/build docs/content/explorer/ && mv dist/docs-app-graphiql/build docs/content/graphql/explorer/",
    "build:docker-copy-dist": "mkdir -p /app/dist/docs-app-graphiql && mkdir -p /app/dist/docs-app-swagger && cp -R /app/packages/docs-app-graphiql/build /app/dist/docs-app-graphiql/build && cp -R /app/packages/docs-app-swagger/build /app/dist/docs-app-swagger/build"
  }
}
